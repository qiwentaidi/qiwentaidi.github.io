<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="1. Golang1、安装   Go  1234567891011121.下载GO安装包，选择自己系统的版本	https:&#x2F;&#x2F;studygolang.com&#x2F;dl	2.配置环境变量和目录	新建GOPATH和GOROOT	GOROOT存放GO环境目录	GOPATH存放后续开发代码		GOPATH目录下存放3个文件夹pkg、bin、src	将用户变量的GOPATH也更改为系统变量的GOPATH目录	3">
<meta property="og:type" content="article">
<meta property="og:title" content="Golang基础学习">
<meta property="og:url" content="http://example.com/pages/%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80/Golang/Golang.html">
<meta property="og:site_name" content="qwtd-blog">
<meta property="og:description" content="1. Golang1、安装   Go  1234567891011121.下载GO安装包，选择自己系统的版本	https:&#x2F;&#x2F;studygolang.com&#x2F;dl	2.配置环境变量和目录	新建GOPATH和GOROOT	GOROOT存放GO环境目录	GOPATH存放后续开发代码		GOPATH目录下存放3个文件夹pkg、bin、src	将用户变量的GOPATH也更改为系统变量的GOPATH目录	3">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221114211916816.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221114212236252.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221126160444758.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221126160800229.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221114213237950.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221115200805820.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221115201129487.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221115202515847.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221115203719503.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221115204434626.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221116132948714.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221117213427409.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119103108953.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119104332130.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119125741330.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119135732658.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119145725927.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119151810857.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119160834472.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119170334176.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119201527228.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119204355386.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119222728571.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221120101416742.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221120102307888.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221120104043812.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221120104843203.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221121222447851.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221121223327553.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221122205702713.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221122214400958.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221122215737309.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221122215959858.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221126221151759.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221128110422810.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221203155301238.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221204151826443.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221204152820505.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20230118142144960.png">
<meta property="og:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20230118142124626.png">
<meta property="article:published_time" content="2022-12-07T07:56:49.000Z">
<meta property="article:modified_time" content="2023-04-16T01:47:34.790Z">
<meta property="article:author" content="气温太低">
<meta property="article:tag" content="网络安全">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221114211916816.png">

<link rel="canonical" href="http://example.com/pages/%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80/Golang/Golang.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Golang基础学习 | qwtd-blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">qwtd-blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">该网站文章仅作为知识分享，严禁用于非法用途，否则产生的一切后果自行承担。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/qiwentaidi/qiwentaidi.github.io" class="github-corner" title="qiwentaidi GitHub" aria-label="qiwentaidi GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/pages/%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80/Golang/Golang.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="气温太低">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="qwtd-blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Golang基础学习
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-07 15:56:49" itemprop="dateCreated datePublished" datetime="2022-12-07T15:56:49+08:00">2022-12-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-04-16 09:47:34" itemprop="dateModified" datetime="2023-04-16T09:47:34+08:00">2023-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">高级语言</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80/Golang/" itemprop="url" rel="index"><span itemprop="name">Golang</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Golang">1. Golang</h1><p>1、安装</p>
<ul>
<li><input disabled type="checkbox"> Go</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.下载GO安装包，选择自己系统的版本</span><br><span class="line">	https://studygolang.com/dl</span><br><span class="line">	</span><br><span class="line">2.配置环境变量和目录</span><br><span class="line">	新建GOPATH和GOROOT</span><br><span class="line">	GOROOT存放GO环境目录</span><br><span class="line">	GOPATH存放后续开发代码</span><br><span class="line">		GOPATH目录下存放3个文件夹pkg、bin、src</span><br><span class="line">	将用户变量的GOPATH也更改为系统变量的GOPATH目录</span><br><span class="line">	</span><br><span class="line">3.命令行查看go env配置信息</span><br><span class="line">	确保set GOPATH=和set GOROOT=为我们配置的目录</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221114211916816.png" alt="image-20221114211916816"></p>
<ul>
<li><input disabled type="checkbox"> Goland</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">有钱就买正版，没钱就破解</span><br><span class="line">https://www.jetbrains.com.cn/go/</span><br><span class="line">破解工具</span><br><span class="line">https://www.iculture.cc/software/pig=24498</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221114212236252.png" alt="image-20221114212236252"></p>
<ul>
<li><input disabled type="checkbox"> vscode</li>
</ul>
<p>插件安装</p>
<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221126160444758.png" alt="image-20221126160444758"></p>
<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221126160800229.png" alt="image-20221126160800229"></p>
<p>2、Hello World</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span> <span class="comment">// 导入系统包fmt用来输出</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;hello world&quot;</span>) <span class="comment">// ln换行打印字符串</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">注意事项：</span><br><span class="line">1、包名和主函数名必须相同</span><br><span class="line">2、如果goland运行程序报错找不到路径，可以设置 go env -w GO111MODULE=off</span><br><span class="line">3、Goland写程序如果变量或包未被引用会报红</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221114213237950.png" alt="image-20221114213237950"></p>
<p>3.Go的常用命令</p>
<ul>
<li>go build main.go	生成exe的可执行文件</li>
<li>go run main.go  运行程序</li>
<li>go env 打印环境变量</li>
<li>go get 下载安装包和依赖，如果报错的话需要先go mod init 项目名称初始化</li>
</ul>
<h2 id="基础语法">1.1. 基础语法</h2><h3 id="注释">1.1.1. 注释</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 单行注释</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="变量">1.1.2. 变量</h3><h4 id="变量的声明">1.1.2.1. 变量的声明</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">定义一个变量:	</span><br><span class="line"><span class="keyword">var</span> name <span class="keyword">type</span></span><br><span class="line">===========================</span><br><span class="line">定义多个变量</span><br><span class="line"><span class="keyword">var</span>(</span><br><span class="line">	name1 <span class="keyword">type</span></span><br><span class="line">    name2 <span class="keyword">type</span></span><br><span class="line">    name3 <span class="keyword">type</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ul>
<li>第一个var，是变量声明关键字</li>
<li>第二个name，是变量名</li>
<li>第三个type，代表变量类型</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">注意事项：</span><br><span class="line">1.golang为弱类型语言，golang的type更类似与约束，不允许变量值为其他类型，正常写可以省略，省略的话为自动类型</span><br></pre></td></tr></table></figure>

<h4 id="变量的赋值">1.1.2.2. 变量的赋值</h4><ul>
<li>短变量声明并初始化</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// := 编译器可以自动推导数据类型</span></span><br><span class="line">name := <span class="string">&quot;qwtd&quot;</span></span><br><span class="line">age := <span class="number">18</span></span><br></pre></td></tr></table></figure>

<p>短变量声明并初始化存在以下限制</p>
<ul>
<li>定义变量，同时初始化（已经定义过的变量不能使用:&#x3D;）</li>
<li>不能提供数据类型</li>
<li>只能用在函数内部，不能随便到处定义</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> name <span class="type">string</span> = <span class="string">&quot;张三&quot;</span></span><br><span class="line">	<span class="keyword">var</span> (</span><br><span class="line">		age <span class="type">int</span>    = <span class="number">18</span></span><br><span class="line">		sex <span class="type">string</span> = <span class="string">&quot;男&quot;</span></span><br><span class="line">	)</span><br><span class="line">	fmt.Println(name, age, sex)</span><br><span class="line">	<span class="comment">// := 编译器可以自动推导数据类型</span></span><br><span class="line">	hobbies := <span class="string">&quot;swimming&quot;</span></span><br><span class="line">	height := <span class="number">185</span></span><br><span class="line">	fmt.Println(hobbies, height)</span><br><span class="line">    <span class="comment">// %T占位符表示类型,Printf:按照指定的格式进行输出</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%T&quot;</span>, hobbies, height)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="打印内存地址">1.1.2.3. 打印内存地址</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> num <span class="type">int</span></span><br><span class="line">	num = <span class="number">10</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;num的值为%d,内存地址为:%p&quot;</span>, num, &amp;num) <span class="comment">// &amp;变量名，取地址符</span></span><br><span class="line">	num = <span class="number">20</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;num的值为%d,内存地址为:%p&quot;</span>, num, &amp;num) <span class="comment">// &amp;变量名，取地址符</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221115200805820.png" alt="image-20221115200805820"></p>
<h4 id="变量交换">1.1.2.4. 变量交换</h4><p>在如Java等其他语言中，变量的交换需要存储在一个临时变量中去实现，Go实现变量交换与Python一致</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := <span class="number">100</span></span><br><span class="line">	b := <span class="number">200</span></span><br><span class="line">	a, b = b, a</span><br><span class="line">	fmt.Println(a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221115201129487.png" alt="image-20221115201129487"></p>
<h4 id="匿名变量">1.1.2.5. 匿名变量</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建函数，定义两个返回值类型为int</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> (<span class="type">int</span>, <span class="type">int</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">100</span>, <span class="number">200</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 正常情况</span></span><br><span class="line">	a, b := test()</span><br><span class="line">	fmt.Println(a, b)</span><br><span class="line">	<span class="comment">// 使用匿名变量 _ ,所有赋值给匿名变量的值都将被舍弃</span></span><br><span class="line">	c, _ := test()</span><br><span class="line">	_, d := test()</span><br><span class="line">	fmt.Println(c, d)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221115202515847.png" alt="image-20221115202515847"></p>
<h4 id="变量的作用域">1.1.2.6. 变量的作用域</h4><ul>
<li>局部变量</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.定义在方法中的变量，只能在定义的方法中使用</span><br><span class="line">2.局部变量可以与全局变量声明相同的名字，方法内的调用会优先使用局部变量</span><br></pre></td></tr></table></figure>

<ul>
<li>全局变量</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">定义在方法外的变量，可以在全局使用</span><br></pre></td></tr></table></figure>

<h4 id="常量">1.1.2.7. 常量</h4><p>常量不能被修改</p>
<ul>
<li>const，定义常量</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">const</span> URL <span class="type">string</span> = <span class="string">&quot;www.baidu.com&quot;</span> <span class="comment">// 显式定义，带类型</span></span><br><span class="line">	<span class="keyword">const</span> URL2 = <span class="string">&quot;www.baidu.com&quot;</span>       <span class="comment">// 隐式定义，不带类型</span></span><br><span class="line">	fmt.Println(URL, URL2)</span><br><span class="line">	<span class="keyword">const</span> a, b, c = <span class="number">3.14</span>, <span class="string">&quot;qwtd&quot;</span>, <span class="literal">false</span></span><br><span class="line">	fmt.Println(a, b, c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221115203719503.png" alt="image-20221115203719503"></p>
<ul>
<li><input disabled type="checkbox"> iota，Go语言中的特殊常量，是Go语言中的常量计数器，默认值为0，<strong>在一组常量中</strong>每次增加一个常量+1，每组常量的iota互不干扰</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">func <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">	const (</span><br><span class="line">		a = iota <span class="comment">// 0</span></span><br><span class="line">		b        <span class="comment">// 1</span></span><br><span class="line">		c        <span class="comment">// 2</span></span><br><span class="line">		d = <span class="string">&quot;haha&quot;</span></span><br><span class="line">		e</span><br><span class="line">		<span class="type">f</span></span><br><span class="line">		<span class="variable">g</span> <span class="operator">=</span> iota <span class="comment">// 6 iota会持续计数</span></span><br><span class="line">	)</span><br><span class="line">	<span class="comment">// 如果下一个数未被定义的话，会继承上一个数的值</span></span><br><span class="line">	fmt.Println(a, b, c, d, e, f, g)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221115204434626.png" alt="image-20221115204434626"></p>
<h3 id="基本数据类型">1.1.3. 基本数据类型</h3><h4 id="布尔型">1.1.3.1. 布尔型</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flag <span class="type">bool</span> = <span class="literal">true</span></span><br><span class="line">默认值为<span class="literal">false</span>，%t 布尔类型当前值占位符</span><br></pre></td></tr></table></figure>

<h4 id="数字类型">1.1.3.2. 数字类型</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num1 <span class="type">int</span> = <span class="number">10</span></span><br><span class="line"><span class="type">int</span> 存在<span class="type">int</span>,<span class="type">int8</span>,<span class="type">int16</span>,<span class="type">int32</span>,<span class="type">int64</span>,值越大可以表示的数越大</span><br><span class="line">默认值为<span class="number">0</span>，%d 整数类型当前值占位符</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num2 <span class="type">float32</span> = <span class="number">3.14</span></span><br><span class="line">float存在<span class="type">float32</span>,<span class="type">float64</span>,尽量使用<span class="type">float64</span>去定义浮点类型数据,避免损失精度</span><br><span class="line">默认值为<span class="number">0.0</span>，%f 浮点数类型当前值占位符</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num3 <span class="type">uint</span> = <span class="number">10</span></span><br><span class="line"><span class="type">uint</span> 打印无符号整数</span><br></pre></td></tr></table></figure>

<p>别名</p>
<table>
<thead>
<tr>
<th>byte类似于uint8</th>
</tr>
</thead>
<tbody><tr>
<td><strong>rune类似于int32</strong></td>
</tr>
<tr>
<td><strong>wint 32或64位</strong></td>
</tr>
<tr>
<td><strong>int 与uint 一样大小</strong></td>
</tr>
<tr>
<td><strong>uintptr 无符号整型，用于存放一个指针</strong></td>
</tr>
</tbody></table>
<h4 id="字符串类型">1.1.3.3. 字符串类型</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s1 := <span class="string">&#x27;A&#x27;</span> <span class="comment">// &#x27;&#x27;代表char字符，为int32类型</span></span><br><span class="line">s2 := <span class="string">&quot;A&quot;</span> <span class="comment">// &quot;&quot;代表字符串，string类型</span></span><br><span class="line"><span class="comment">// 字符串的拼接使用 +</span></span><br><span class="line"><span class="comment">// 转义字符\</span></span><br></pre></td></tr></table></figure>

<p>演示</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 布尔类型</span></span><br><span class="line">	<span class="keyword">var</span> flag <span class="type">bool</span> = <span class="literal">true</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%t\n&quot;</span>, flag, flag)</span><br><span class="line">	<span class="comment">// 数字类型</span></span><br><span class="line">	<span class="comment">// 整数</span></span><br><span class="line">	<span class="keyword">var</span> num1 <span class="type">int</span> = <span class="number">10</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%d\n&quot;</span>, num1, num1)</span><br><span class="line">	<span class="comment">// 浮点数</span></span><br><span class="line">	<span class="keyword">var</span> num2 <span class="type">float32</span> = <span class="number">3.1</span></span><br><span class="line">	<span class="comment">// %f默认打印6位小数，可以在f前面加.n控制小数为n位,四舍五入</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%.2f\n&quot;</span>, num2, num2)</span><br><span class="line">	<span class="comment">// 字符串类型</span></span><br><span class="line">	<span class="keyword">var</span> str <span class="type">string</span> = <span class="string">&quot;welcome&quot;</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%s\n&quot;</span>, str, str)</span><br><span class="line">	s1 := <span class="string">&#x27;A&#x27;</span> <span class="comment">// &#x27;&#x27;代表char字符，为int32类型</span></span><br><span class="line">	s2 := <span class="string">&quot;A&quot;</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%d\n&quot;</span>, s1, s1)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%s\n&quot;</span>, s2, s2)</span><br><span class="line">	<span class="comment">// 字符串的拼接使用 +</span></span><br><span class="line">	<span class="comment">// 转义字符\</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221116132948714.png" alt="image-20221116132948714"></p>
<h4 id="数据类型转换">1.1.3.4. 数据类型转换</h4><ul>
<li><p>由于Go语言不存在隐式类型转换，因此所有的类型转换都必须显式的声明</p>
</li>
<li><p>大小不同的数据类型，分配的内存空间是不同的，将大类型转换成小类型会导致精度丢失</p>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := <span class="number">3</span>   <span class="comment">// int</span></span><br><span class="line">	b := <span class="number">5.0</span> <span class="comment">// float64</span></span><br><span class="line">	<span class="comment">// 需求:将int类型的a转换为 float64 类型类型转换</span></span><br><span class="line">	c := <span class="type">float64</span>(a)</span><br><span class="line">	d := <span class="type">int</span>(b)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%T\n%T,%T&quot;</span>, a, b, c, d)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="运算符">1.1.4. 运算符</h3><h4 id="算术运算符">1.1.4.1. 算术运算符</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>相加</td>
<td>A + B 输出结果 30</td>
</tr>
<tr>
<td>-</td>
<td>相减</td>
<td>A- B 输出结果 -10</td>
</tr>
<tr>
<td>*</td>
<td>相乘</td>
<td>A*B输出结果 200</td>
</tr>
<tr>
<td>&#x2F;</td>
<td>相除</td>
<td>B&#x2F;A输出结果2</td>
</tr>
<tr>
<td>%</td>
<td>求余</td>
<td>B%A输出结果0</td>
</tr>
<tr>
<td>++</td>
<td>自增</td>
<td>A++ 输出结果 11</td>
</tr>
<tr>
<td>–</td>
<td>自减</td>
<td>A– 输出结果 9</td>
</tr>
</tbody></table>
<p>Go语言中只有a++,a–没有–a,++a</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := <span class="number">10</span></span><br><span class="line">	b := <span class="number">2</span></span><br><span class="line">	fmt.Println(a + b) <span class="comment">// 12</span></span><br><span class="line">	fmt.Println(a - b) <span class="comment">// 8</span></span><br><span class="line">	fmt.Println(a * b) <span class="comment">// 20</span></span><br><span class="line">	fmt.Println(a / b) <span class="comment">// 5</span></span><br><span class="line">	fmt.Println(a % b) <span class="comment">// 0</span></span><br><span class="line">	a--</span><br><span class="line">	fmt.Println(a) <span class="comment">// 9</span></span><br><span class="line">	a++</span><br><span class="line">	fmt.Println(a) <span class="comment">// 10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="关系运算符">1.1.4.2. 关系运算符</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;&#x3D;</td>
<td>检查两个值是否相等，如果相等返回 True[否则返回 False</td>
<td>(A&#x3D;&#x3D;B)为False</td>
</tr>
<tr>
<td>!&#x3D;</td>
<td>检查两个值是否不相等，如果不相等返回True否则返回 False</td>
<td>(A!&#x3D;B)为True</td>
</tr>
<tr>
<td>&gt;</td>
<td>检查左边值是否大于右边值，如果是返回True否则返回 False</td>
<td>(A&gt;B)为False</td>
</tr>
<tr>
<td>&lt;</td>
<td>检查左边值是否小于右边值，如果是返回True否则返回 False</td>
<td>(A&lt;B)为True</td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td>检查左边值是否大于等于右边值，如果是返回True否则返回 False</td>
<td>(A&gt;&#x3D;B)为 False</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>检查左边值是否小于等于右边值，如果是返回True否则返回 False</td>
<td>(A&lt;&#x3D;B)为True</td>
</tr>
</tbody></table>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a <span class="type">int</span> = <span class="number">10</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="type">int</span> = <span class="number">20</span></span><br><span class="line">	fmt.Println(a &gt; b)  <span class="comment">// false</span></span><br><span class="line">	fmt.Println(a &lt; b)  <span class="comment">// true</span></span><br><span class="line">	fmt.Println(a == b) <span class="comment">// false</span></span><br><span class="line">	fmt.Println(a != b) <span class="comment">// true</span></span><br><span class="line">	fmt.Println(a &gt;= b) <span class="comment">// false</span></span><br><span class="line">	fmt.Println(a &lt;= b) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="逻辑运算符">1.1.4.3. 逻辑运算符</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a <span class="type">bool</span> = <span class="literal">false</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="type">bool</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(a &amp;&amp; b)    <span class="comment">// false</span></span><br><span class="line">	fmt.Println(a || b)    <span class="comment">// true</span></span><br><span class="line">	fmt.Println(!(a &amp;&amp; b)) <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="位运算符">1.1.4.4. 位运算符</h4><p>Go语言支持的位运算符如下表所示。假定A为60，B 为13:</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;</td>
<td>按位与运算符”&amp;”是双目运算符。都是1结果为1，否则是0</td>
<td>(A &amp; B)结果为12,二进制为 0000 1100</td>
</tr>
<tr>
<td>|</td>
<td>按位或运算符””是双目运算符。 都是0结果为0，否则是1</td>
<td>(A | B)结果为 61,二进制为 0011 1101</td>
</tr>
<tr>
<td>^</td>
<td>按位异或运算符”^“是双目运算符。 不同则为1，相同为0</td>
<td>(A ^ B)结果为49, 二进制为00110001</td>
</tr>
<tr>
<td>&amp;^</td>
<td>位清空，a &amp;^b，对于b上的每个数值，如果为0，则取a对应位上的数值，如果为1，则取0.</td>
<td>(A &amp;^ B)结果为48, 二进制为 00110000</td>
</tr>
<tr>
<td>&lt;&lt;</td>
<td>左移运算符”&lt;&lt;”是双目运算符。左移n位就是乘以2的n次方。其功能把”&lt;&lt;”左边的运算数的各二进位全部左移若干位，由”&lt;&lt;”右边的数指定移动的位数，高位丢弃，低位补0。</td>
<td>A &lt;&lt; 2结果为240, 二进制为 11110000</td>
</tr>
<tr>
<td>&gt;&gt;</td>
<td>右移运算符“&gt;&gt;”是双目运算符。右移n位就是除以2的n次方。其功能是把”&gt;&gt;”左边的运算数的各二进位全部右移若干位，”&gt;&gt;”右边的数指定移动的位数。</td>
<td>A &gt;&gt; 2结果为15, 二进制为0000 1111</td>
</tr>
</tbody></table>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a <span class="type">int</span> = <span class="number">60</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="type">int</span> = <span class="number">13</span></span><br><span class="line">	<span class="comment">// 60 0011 1100</span></span><br><span class="line">	<span class="comment">// 13 0000 1101</span></span><br><span class="line">	<span class="comment">// &amp; 两个都为1结果才为1,否则为0</span></span><br><span class="line">	c := a &amp; b</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d,二进制:%b\n&quot;</span>, c, c) <span class="comment">// %b 表示 二进制</span></span><br><span class="line">	<span class="comment">// |  两个都是0结果为0，否则是1</span></span><br><span class="line">	c = a | b</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d,二进制:%b\n&quot;</span>, c, c)</span><br><span class="line">	<span class="comment">// &amp;^对于b上的每个数值，如果为0，则取a对应位上的数值，如果为1，则取0</span></span><br><span class="line">	c = a &amp;^ b</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d,二进制:%b\n&quot;</span>, c, c)</span><br><span class="line">	<span class="comment">// ^ 不同则为1，相同为0</span></span><br><span class="line">	c = a ^ b</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d,二进制:%b\n&quot;</span>, c, c)</span><br><span class="line">	<span class="comment">// &lt;&lt; 往左移两位</span></span><br><span class="line">	c = a &lt;&lt; <span class="number">2</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d,二进制:%b\n&quot;</span>, c, c)</span><br><span class="line">	a = <span class="number">60</span></span><br><span class="line">	c = a &gt;&gt; <span class="number">2</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d,二进制:%b\n&quot;</span>, c, c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221117213427409.png" alt="image-20221117213427409">从</p>
<h4 id="赋值运算符">1.1.4.5. 赋值运算符</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>简单的赋值运算符，将一个表达式的值赋给一个左值</td>
<td>C&#x3D;A+B将A+B表达式结果赋值给 C</td>
</tr>
<tr>
<td>+&#x3D;</td>
<td>相加后再赋值</td>
<td>C+&#x3D; A等于C&#x3D;C+A</td>
</tr>
<tr>
<td>-&#x3D;</td>
<td>相减后再赋值</td>
<td>C-&#x3D;A等于C&#x3D;C-A</td>
</tr>
<tr>
<td>*&#x3D;</td>
<td>相乘后再赋值</td>
<td>C*&#x3D;A等于C&#x3D;C*A</td>
</tr>
<tr>
<td>&#x2F;&#x3D;</td>
<td>相除后再赋值</td>
<td>C&#x2F;&#x3D;A等于C&#x3D;C&#x2F;A</td>
</tr>
<tr>
<td>%&#x3D;</td>
<td>求余后再赋值</td>
<td>C%&#x3D;A等于C&#x3D;C%A</td>
</tr>
<tr>
<td>&lt;&lt;&#x3D;</td>
<td>左移后赋值</td>
<td>C&lt;&lt;&#x3D;2等于C&#x3D; C&lt;&lt;2</td>
</tr>
<tr>
<td>&gt;&gt;&#x3D;</td>
<td>右移后赋值</td>
<td>C&gt;&gt;&#x3D; 2等于C&#x3D; C&gt;&gt;2</td>
</tr>
<tr>
<td>&amp;&#x3D;</td>
<td>按位与后赋值</td>
<td>C&amp;&#x3D;2等于C&#x3D;C&amp;2</td>
</tr>
<tr>
<td>^&#x3D;</td>
<td>按位异或后赋值</td>
<td>C^&#x3D; 2等于C&#x3D; C^2</td>
</tr>
<tr>
<td>|&#x3D;</td>
<td>按位或后赋值</td>
<td>C|&#x3D;2等于C&#x3D;C|2</td>
</tr>
</tbody></table>
<h3 id="键盘输入输出">1.1.5. 键盘输入输出</h3><table>
<thead>
<tr>
<th>fmt.Scanf()  接收输入 格式化输入 区别&#x3D;&gt;只接受format内指定的参数类型</th>
</tr>
</thead>
<tbody><tr>
<td><strong>fmt.Scanln() 接收输入 区别&#x3D;&gt;间隔的数只能通过空格分隔，只能在同一行输入</strong></td>
</tr>
<tr>
<td><strong>fmt.Scan()   接收输入 区别&#x3D;&gt;间隔的数可以通过空格、换行分隔</strong></td>
</tr>
</tbody></table>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> x <span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> y <span class="type">float64</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;请输入两个数1、整数 2、浮点数&quot;</span>)</span><br><span class="line">	<span class="comment">// 接受x y的地址</span></span><br><span class="line">	<span class="comment">// go语言中存在指针，指向内存地址，可以直接通过修改指针去修改变量2 2</span></span><br><span class="line">	fmt.Scan(&amp;x, &amp;y) <span class="comment">// Scan等待键盘输入</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;x:&quot;</span>, x)</span><br><span class="line">	fmt.Println(<span class="string">&quot;y:&quot;</span>, y)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//fmt.Scanf()  接收输入 格式化输入 区别=&gt;只接受format内指定的参数类型</span></span><br><span class="line">	<span class="comment">//fmt.Scanln() 接收输入 区别=&gt;间隔的数只能通过空格分隔，只能在同一行输入</span></span><br><span class="line">	<span class="comment">//fmt.Scan()   接收输入 区别=&gt;间隔的数可以通过空格、换行分隔</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119103108953.png" alt="image-20221119103108953"></p>
<h3 id="占位符">1.1.6. 占位符</h3><ul>
<li>普通占位符</li>
</ul>
<table>
<thead>
<tr>
<th>占位符</th>
<th>说明</th>
<th>举例</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>%v</td>
<td>相应值的默认格式</td>
<td>Printf(“%v”, people)</td>
<td>{zhangsan}</td>
</tr>
<tr>
<td>%+v</td>
<td>打印结构体时，会添加字段名</td>
<td>Printf(“%+v”, people)</td>
<td>{Name:zhangsan}</td>
</tr>
<tr>
<td>%#v</td>
<td>相应值的Go语法表示</td>
<td>Printf(“#v”, people)</td>
<td>main.Human{Name:“zhangsan”}</td>
</tr>
<tr>
<td>%T</td>
<td>相应值的类型的Go语法表示</td>
<td>Printf(“%T”, people)</td>
<td>main.Human</td>
</tr>
<tr>
<td>%%</td>
<td>字面上的百分号，并非值的占位符</td>
<td>Printf(“%%”)</td>
<td>%</td>
</tr>
</tbody></table>
<ul>
<li>布尔占位符</li>
</ul>
<table>
<thead>
<tr>
<th>占位符</th>
<th>说明</th>
<th>举例</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>%t</td>
<td>true 或 false</td>
<td>Printf(“%t”, true)</td>
<td>true</td>
</tr>
</tbody></table>
<ul>
<li>整数占位符</li>
</ul>
<table>
<thead>
<tr>
<th>占位符</th>
<th>说明</th>
<th>举例</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>%b</td>
<td>二进制表示</td>
<td>Printf(“%b”, 5)</td>
<td>101</td>
</tr>
<tr>
<td>%c</td>
<td>相应Unicode码点所表示的字符</td>
<td>Printf(“%c”, 0x4E2D)</td>
<td>中</td>
</tr>
<tr>
<td>%d</td>
<td>十进制表示</td>
<td>Printf(“%d”, 0x12)</td>
<td>18</td>
</tr>
<tr>
<td>%o</td>
<td>八进制表示</td>
<td>Printf(“%d”, 10)</td>
<td>12</td>
</tr>
<tr>
<td>%q</td>
<td>单引号围绕的字符字面值， 由Go语法安全地转义</td>
<td>Printf(“%q”, 0x4E2D)</td>
<td>‘中’</td>
</tr>
<tr>
<td>%x</td>
<td>十六进制表示，字母形式为小写 a-f</td>
<td>Printf(“%x”, 13)</td>
<td>d</td>
</tr>
<tr>
<td>%X</td>
<td>十六进制表示，字母形式为大写 A-F</td>
<td>Printf(“%x”, 13)</td>
<td>D</td>
</tr>
<tr>
<td>%U</td>
<td>Unicode格式：U+1234，等同于 “U+%04X”</td>
<td>Printf(“%U”, 0x4E2D)</td>
<td>U+4E2D</td>
</tr>
</tbody></table>
<ul>
<li>浮点数和复数的组成部分（实部和虚部）</li>
</ul>
<table>
<thead>
<tr>
<th>占位符</th>
<th>说明</th>
<th>举例</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>%b</td>
<td>无小数部分的，指数为二的幂的科学计数法，与 strconv.FormatFloat 的 ‘b’ 转换格式一致。</td>
<td></td>
<td>-123456p-78</td>
</tr>
<tr>
<td>%e</td>
<td>科学计数法</td>
<td>Printf(“%e”, 10.2)</td>
<td>1.020000e+01</td>
</tr>
<tr>
<td>%E</td>
<td>科学计数法</td>
<td>Printf(“%e”, 10.2)</td>
<td>1.020000E+01</td>
</tr>
<tr>
<td>%f</td>
<td>有小数点而无指数</td>
<td>Printf(“%f”, 10.2)</td>
<td>10.200000</td>
</tr>
<tr>
<td>%g</td>
<td>根据情况选择 %e 或 %f</td>
<td>Printf(“%g”, 10.20)</td>
<td>10.2</td>
</tr>
<tr>
<td>%G</td>
<td>根据情况选择 %E 或 %f</td>
<td>Printf(“%G”, 10.20+2i)</td>
<td>(10.2+2i)</td>
</tr>
</tbody></table>
<ul>
<li>字符串与字节切片</li>
</ul>
<table>
<thead>
<tr>
<th>占位符</th>
<th>说明</th>
<th>举例</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>%s</td>
<td>输出字符串表示（string类型或[]byte)</td>
<td>Printf(“%s”, []byte(“Go语言”))</td>
<td>Go语言</td>
</tr>
<tr>
<td>%q</td>
<td>双引号围绕的字符串</td>
<td>Printf(“%q”, “Go语言”)</td>
<td>“Go语言”</td>
</tr>
<tr>
<td>%x</td>
<td>十六进制, 小写字母, 每字节两个字符</td>
<td>Printf(“%x”, “golang”)</td>
<td>676f6c616e67</td>
</tr>
<tr>
<td>%X</td>
<td>十六进制, 大写字母, 每字节两个字符</td>
<td>Printf(“%X”, “golang”)</td>
<td>676F6C616E67</td>
</tr>
</tbody></table>
<ul>
<li>指针</li>
</ul>
<table>
<thead>
<tr>
<th>占位符</th>
<th>说明</th>
<th>举例</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>%p</td>
<td>十六进制表示，前缀 0x</td>
<td>Printf(“%p”, &amp;people)</td>
<td>0x4f57f0</td>
</tr>
</tbody></table>
<h2 id="流程控制">1.2. 流程控制</h2><h3 id="if">1.2.1. if</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件表达式&#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> 条件表达式&#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> score <span class="type">int</span> = <span class="number">22</span></span><br><span class="line">	<span class="keyword">if</span> score &gt;= <span class="number">90</span> &amp;&amp; score &lt;= <span class="number">100</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">80</span> &amp;&amp; score &lt; <span class="number">90</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;B&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">70</span> &amp;&amp; score &lt; <span class="number">80</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;C&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">60</span> &amp;&amp; score &lt; <span class="number">70</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;D&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;E&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119104332130.png" alt="image-20221119104332130"></p>
<h3 id="swith">1.2.2. swith</h3><ul>
<li>适用少量固定参数值的匹配情况，变量支持任何数据类型</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> var1 &#123;</span><br><span class="line"><span class="keyword">case</span> val1:</span><br><span class="line">	...</span><br><span class="line"><span class="keyword">case</span> va12:</span><br><span class="line">	...</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> score <span class="type">int</span> = <span class="number">30</span></span><br><span class="line">	<span class="keyword">switch</span> score &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">90</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="number">60</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;D&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;F&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>fallthrough</strong> 穿透，判断结束后，不仅会执行本条语句，还会执行下一个case语句</li>
<li><strong>break</strong> 终止循环判断</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> score <span class="type">int</span> = <span class="number">90</span></span><br><span class="line">	<span class="keyword">switch</span> score &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">90</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">		<span class="keyword">fallthrough</span> <span class="comment">// fallthrough case穿透，会执行下一个case语句</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">60</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;D&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;F&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119125741330.png" alt="image-20221119125741330"></p>
<h3 id="for">1.2.3. for</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 定义变量;条件判断;控制变量自增或自减&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">注意:</span><br><span class="line"><span class="number">1.</span>第三个参数可省略，放到主体里自增</span><br><span class="line"><span class="number">2.</span>三个参数都可省略变成无限循环</span><br></pre></td></tr></table></figure>

<ul>
<li><input disabled type="checkbox"> 计算1-10的数之和</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line">		sum += i</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><input disabled type="checkbox"> 打印一个5*5的方阵</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* * * * *</span></span><br><span class="line"><span class="comment">* * * * *</span></span><br><span class="line"><span class="comment">* * * * *</span></span><br><span class="line"><span class="comment">* * * * *</span></span><br><span class="line"><span class="comment">* * * * *</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">5</span>; j++ &#123;</span><br><span class="line">			fmt.Print(<span class="string">&quot;* &quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><input disabled type="checkbox"> 打印九九乘法表</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">1</span>; j &lt;= i; j++ &#123;</span><br><span class="line">			fmt.Printf(<span class="string">&quot;%d * %d = %d &quot;</span>, j, i, i*j)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119135732658.png" alt="image-20221119135732658"></p>
<ul>
<li>break，退出循环</li>
<li>continue结束当次循环</li>
</ul>
<h3 id="String">1.2.4. String</h3><ul>
<li><p>string字符串中的字符不能被修改</p>
</li>
<li><p><input disabled type="checkbox"> 
for循环遍历string字节</p>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> str <span class="type">string</span> = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">	<span class="comment">// 正常for循环</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(str); i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;第%d个字符%c的int值为%d\n&quot;</span>, i+<span class="number">1</span>, str[i], str[i]) <span class="comment">// %c 代表字符</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;=================================&quot;</span>)</span><br><span class="line">	<span class="comment">// for range循环，遍历数组，切片</span></span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> str &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;第%d个字符%c的int值为%d\n&quot;</span>, i+<span class="number">1</span>, v, v) <span class="comment">// %c 代表字符</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119145725927.png" alt="image-20221119145725927"></p>
<h2 id="函数（func）">1.3. 函数（func）</h2><h3 id="函数的声明和调用">1.3.1. 函数的声明和调用</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">function_name</span><span class="params">( [parameter list] )</span></span> [return_types] &#123;</span><br><span class="line">	函数体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(add(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	c := a + b</span><br><span class="line">	<span class="keyword">return</span> c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119151810857.png" alt="image-20221119151810857"></p>
<ul>
<li><p>无参无返回值函数</p>
</li>
<li><p>有一个参数的函数</p>
</li>
<li><p>有两个参数的函数</p>
</li>
<li><p>有一个返回值的函数</p>
</li>
<li><p>有多个返回值的函数</p>
</li>
</ul>
<h3 id="形式参数和实际参数">1.3.2. 形式参数和实际参数</h3><ul>
<li>形式参数: 定义函数时，用来接收外部传入数据的参数，就是形式参数 &#x3D;&gt; a和b</li>
<li>实际参数: 调用函数时，传给形参的实际数据叫做实际参数 &#x3D;&gt; 1和2</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 形式参数: 定义函数时，用来接收外部传入数据的参数，就是形式参数 =&gt; a和b</span></span><br><span class="line">	<span class="comment">// 实际参数: 调用函数时，传给形参的实际数据叫做实际参数 =&gt; 1和2</span></span><br><span class="line">	fmt.Print(Max(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Max</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> result <span class="type">int</span></span><br><span class="line">	<span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">		result = a</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		result = b</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="可变参数">1.3.3. 可变参数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num ...[type]</span><br></pre></td></tr></table></figure>

<p>概念:一个函数的参数类型确定，但个数不确定，就可以使用可变参数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Print(GetSum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetSum</span><span class="params">(num ...<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="comment">// ...可变参数</span></span><br><span class="line">	sum := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(num); i++ &#123;</span><br><span class="line">		sum += num[i]</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119160834472.png" alt="image-20221119160834472"></p>
<p>注意事项:</p>
<ul>
<li>如果一个函数的参数是可变参数，同时还有其他的参数，可变参数要放在列表的最后一个函数的参数</li>
<li>列表中最多只能有一个可变参数。</li>
</ul>
<h3 id="参数传递">1.3.4. 参数传递</h3><p>按照数据的存储特点来分</p>
<ul>
<li>值类型的数据:操作的是数据本身、int、string、bool、float64、array、struct（传递的是数据）</li>
<li>引用类型的数据:操作的是数据的地址 slice（切片）、map、chan….（传递的是地址）</li>
</ul>
<h4 id="值传递">1.3.4.1. 值传递</h4><ul>
<li>值传递的实质是拷贝，在不修改原变量的情况下，重新复制出一份，再复制出来的部分进行修改</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 值传递</span></span><br><span class="line">	<span class="comment">// arr2 的数据是 从arr1 复制来的,所以是不同的空间</span></span><br><span class="line">	<span class="comment">// 修改 arr2 并不会影 arr 1</span></span><br><span class="line">	<span class="comment">// 定义一个数组 [个数]类型&#123;num1,num2...&#125;</span></span><br><span class="line">	arr := [<span class="number">4</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;main的数组为%d\n&quot;</span>, arr)</span><br><span class="line">	<span class="comment">// 传递==&gt;拷贝，拷贝了arr数组到arr2,内存空间不通过，所以arr2修改了但实际arr数组并未被修改</span></span><br><span class="line">	update(arr)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;update调用后main的数组为%d\n&quot;</span>, arr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">update</span><span class="params">(arr2 [4]<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;update接受到的数组为%d\n&quot;</span>, arr2)</span><br><span class="line">	arr2[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;update修改后的数组为%d\n&quot;</span>, arr2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119170334176.png" alt="image-20221119170334176"></p>
<h4 id="引用传递">1.3.4.2. 引用传递</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 切片的定义方式即没有大小限制的数组</span></span><br><span class="line">	s1 := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;main的数组为%d\n&quot;</span>, s1)</span><br><span class="line">	<span class="comment">// 切片数据被调用实际指向的是同一块内存空间，所以被调用之后修改了，原数据也会修改</span></span><br><span class="line">	update2(s1)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;切片被调用修改后main的数组为%d\n&quot;</span>, s1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">update2</span><span class="params">(s2 []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;切片接受到的数组为%d\n&quot;</span>, s2)</span><br><span class="line">	s2[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;切片修改后的数组为%d\n&quot;</span>, s2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119201527228.png" alt="image-20221119201527228"></p>
<h3 id="函数中变量的作用域">1.3.5. 函数中变量的作用域</h3><ul>
<li>局部变量<ul>
<li>只能在定义的函数内使用，不能跨函数调用</li>
</ul>
</li>
<li>全局变量<ul>
<li>可以全局调用</li>
<li>只能使用var定义全局变量，不能使用 :&#x3D;</li>
</ul>
</li>
</ul>
<h3 id="递归函数">1.3.6. 递归函数</h3><p>定义:一个函数自己调用自己，就叫做递归函数</p>
<p>注意:递归函数需要有一个出口，逐渐向出口靠近，没有出口就会形成死循环。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> s = recursion(<span class="number">5</span>)</span><br><span class="line">	<span class="built_in">print</span>(s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 求阶乘</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">recursion</span><span class="params">(num <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> num == <span class="number">1</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> num * recursion(num<span class="number">-1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119204355386.png" alt="image-20221119204355386"></p>
<h3 id="defer">1.3.7. defer</h3><p>在go语言中，使用defer关键字来延迟一个函数或者方法的执行</p>
<ul>
<li>你可以在函数中添加多个defer语句，<strong>当函数执行到最后时，这些defer语句会按照逆序执行</strong>，最后该函数返回，特别是当你在进行一些打开资源的操作时，遇到错误需要提前返回，在返回前你需要关闭相应的资源，不然很容易造成资源泄露等问题</li>
<li>defer语句在在运行是参数就已经存放进去了,所以后续改变参数不会影响defer语句中的参数值</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="number">1</span>)</span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="number">2</span>)</span><br><span class="line">	fmt.Println(<span class="number">3</span>)</span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="number">4</span>)</span><br><span class="line">	fmt.Println(<span class="number">5</span>)</span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="number">6</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">4</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<p>defer的用法:</p>
<ul>
<li>对象.close() 临时文件的删除</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">文件.open()</span><br><span class="line"><span class="keyword">defer</span>.<span class="built_in">close</span>()</span><br><span class="line">读或写操作</span><br></pre></td></tr></table></figure>

<ul>
<li>go语言中关于异常的处理，使用 panic0) 和 recover()、<ul>
<li>panic 函数用于引发恐慌，导致程序中断执行</li>
<li>recover 函数用于恢复程序的执行，recover0) 语法上要求必须在 defer 中执行。</li>
</ul>
</li>
</ul>
<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221119222728571.png" alt="image-20221119222728571"></p>
<h3 id="init函数">1.3.8. init函数</h3><p> init 函数，先于main 函数执行，实现包级别的一些初始化操作；</p>
<ul>
<li>init函数先于main函数自动执行，不能被其他函数调用；</li>
<li>init函数没有输入参数、返回值；</li>
<li>每个包可以有多个init函数；</li>
<li>包的每个源文件也可以有多个init函数，这点比较特殊；</li>
<li>同一个包的init执行顺序，golang没有明确定义，编程时要注意程序不要依赖这个执行顺序；</li>
<li>不同包的init函数按照包导入的依赖关系决定执行顺序。</li>
</ul>
<p>执行顺序  :  init函数–main函数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;init执行&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;main执行&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">init执行</span><br><span class="line">main执行</span><br></pre></td></tr></table></figure>

<h3 id="扩展">1.3.9. 扩展</h3><h4 id="函数的数据类型">1.3.9.1. 函数的数据类型</h4><ul>
<li><p>函数的类型对应的是他定义的参数以及返回值类型</p>
</li>
<li><p>可以定义函数型变量去接收另一个函数</p>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数本身就是数据类型</span></span><br><span class="line"><span class="comment">// 函数不加()就是一个变量</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, f1) <span class="comment">// func(int, int)</span></span><br><span class="line">	<span class="comment">// 定义函数类型的变量</span></span><br><span class="line">	<span class="keyword">var</span> f2 <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span> = f1</span><br><span class="line">	fmt.Println(f1) <span class="comment">// 0xdda260</span></span><br><span class="line">	fmt.Println(f2) <span class="comment">// 0xdda260  内存地址相同m,实际操作的是同一数据</span></span><br><span class="line">	f2(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f1</span><span class="params">(a, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	fmt.Println(a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221120101416742.png" alt="image-20221120101416742"></p>
<h4 id="匿名函数">1.3.9.2. 匿名函数</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 匿名函数</span></span><br><span class="line">	f1 := <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;我是匿名函数1&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	f1()</span><br><span class="line">	<span class="comment">// 匿名函数自己调用自己,只执行一次</span></span><br><span class="line">	<span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;我是匿名函数2&quot;</span>)</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	num := <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> a + b</span><br><span class="line">	&#125;(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">	fmt.Println(num)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221120102307888.png" alt="image-20221120102307888"></p>
<p>Go语言是支持函数式编程:</p>
<p>1、将匿名函数作为另外一个函数的参数，回调函数</p>
<p>2、将匿名函数作为另外一个函数的返回值，可以形成闭包结构</p>
<h4 id="回调函数">1.3.9.3. 回调函数</h4><p>高阶函数: 根据go语言的数据类型的特点，可以将一个函数作为另外一个函数的参数。</p>
<p>fun1()，fun2()</p>
<p>将fun1函数作为 fun2 这个函数的参数</p>
<p>fun2函数: 就叫做高阶函数，接收了一个函数作为参数的函数</p>
<p>fun1函数: 就叫做回调函数，作为另外一个函数的参数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 正常调用</span></span><br><span class="line">	fmt.Println(add1(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 使用高阶函数调用其他函数</span></span><br><span class="line">	fmt.Println(oper(<span class="number">2</span>, <span class="number">2</span>, add1))</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 高阶函数调用匿名函数</span></span><br><span class="line">	num := oper(<span class="number">16</span>, <span class="number">2</span>, <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> a / b</span><br><span class="line">	&#125;)</span><br><span class="line">	fmt.Println(num)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 高阶函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">oper</span><span class="params">(a, b <span class="type">int</span>, fun <span class="keyword">func</span>(<span class="type">int</span>, <span class="type">int</span>)</span></span> <span class="type">int</span>) <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> fun(a, b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 回调函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add1</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221120104043812.png" alt="image-20221120104043812"></p>
<ul>
<li><input disabled type="checkbox"> 使用回调函数与高阶函数实现加减乘除</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 加法</span></span><br><span class="line">	s1 := calc(<span class="number">2</span>, <span class="number">3</span>, <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> a + b</span><br><span class="line">	&#125;)</span><br><span class="line">	fmt.Println(s1) <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 减法</span></span><br><span class="line">	s2 := calc(<span class="number">5</span>, <span class="number">3</span>, <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> a - b</span><br><span class="line">	&#125;)</span><br><span class="line">	fmt.Println(s2) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 乘法</span></span><br><span class="line">	s3 := calc(<span class="number">5</span>, <span class="number">3</span>, <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> a * b</span><br><span class="line">	&#125;)</span><br><span class="line">	fmt.Println(s3) <span class="comment">// 15</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 除法</span></span><br><span class="line">	s4 := calc(<span class="number">9</span>, <span class="number">3</span>, <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> a / b</span><br><span class="line">	&#125;)</span><br><span class="line">	fmt.Println(s4) <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calc</span><span class="params">(a, b <span class="type">int</span>, fun <span class="keyword">func</span>(<span class="type">int</span>, <span class="type">int</span>)</span></span> <span class="type">int</span>) <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> fun(a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221120104843203.png" alt="image-20221120104843203"></p>
<h4 id="闭包">1.3.9.4. 闭包</h4><p>一个外层函数中，有内层函数，该内层函数中，会操作外层函数的局部变量</p>
<p>并且该外层函数的返回值就是这个内层函数。</p>
<p>这个内层函数和外层函数的局部变量，统称为闭包结构</p>
<p>局部变量的生命周期就会发生改变，正常的局部变量会随着函数的调用而创建，随着函数的结束而销毁但是闭包结构中的外层函数的局部变量并不会随着外层函数的结束而销毁，因为内层函数还在继续使用</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 因为increment的返回值类型为func(),所以如果只调用increment()打印出来的是内存地址</span></span><br><span class="line">	f1 := increment()</span><br><span class="line">	fmt.Println(f1()) <span class="comment">// 1</span></span><br><span class="line">	fmt.Println(f1()) <span class="comment">// 2</span></span><br><span class="line">	fmt.Println(f1()) <span class="comment">// 3</span></span><br><span class="line">	<span class="comment">// 创建f2去接收时，f1已经被销毁了但其中的变量并没有销毁，与其他变量互不影响</span></span><br><span class="line">	f2 := increment()</span><br><span class="line">	fmt.Println(f2()) <span class="comment">// 1</span></span><br><span class="line">	fmt.Println(f1()) <span class="comment">// 4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">increment</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i <span class="type">int</span> = <span class="number">0</span></span><br><span class="line">	<span class="comment">// 此处fun匿名函数效果等于i++,因为将fun进行返回,返回值为int，所以increment的返回值类型要为func() int</span></span><br><span class="line">	fun := <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		i++</span><br><span class="line">		<span class="keyword">return</span> i</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> fun</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数组">1.4. 数组</h2><ul>
<li>数组是<strong>相同数据类型</strong>的一组数据的集合，数组一但定义<strong>长度不能修改</strong>，数组可以<strong>通过下标</strong>(或者叫索引)来访问或修改元素。</li>
</ul>
<h3 id="数组的声明与初始化">1.4.1. 数组的声明与初始化</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 数组的声明 var array [num] type</span></span><br><span class="line">	<span class="keyword">var</span> a1 [<span class="number">3</span>]<span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> a2 [<span class="number">3</span>]<span class="type">string</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;a1:%T\n&quot;</span>, a1)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;a2:%T\n&quot;</span>, a2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 初始化数组 var array = [num] type&#123;num1,num2,num3...&#125;</span></span><br><span class="line">	<span class="keyword">var</span> a3 = [<span class="number">3</span>]<span class="type">float64</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">4.5</span>&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;a3:%v\n&quot;</span>, a3)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ...省略数组的长度,根据定义的数量自动决定数组的大小</span></span><br><span class="line">	<span class="keyword">var</span> a4 = [...]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(a4))</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 通过索引的方式来初始化</span></span><br><span class="line">	<span class="comment">// 将索引为1即第二个数值赋值为2，将索引为3即第二个数值赋值为4，其他未赋值参数为默认值 =&gt; [0,2,0,4]</span></span><br><span class="line">	<span class="keyword">var</span> a5 = [...]<span class="type">int</span>&#123;<span class="number">1</span>: <span class="number">2</span>, <span class="number">3</span>: <span class="number">4</span>&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;a5:%v\n&quot;</span>, a5)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221121222447851.png" alt="image-20221121222447851"></p>
<h3 id="访问数组元素">1.4.2. 访问数组元素</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 通过下标（索引）访问</span></span><br><span class="line">	<span class="keyword">var</span> a1 [<span class="number">2</span>]<span class="type">int</span></span><br><span class="line">	a1[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line">	a1[<span class="number">1</span>] = <span class="number">20</span></span><br><span class="line">	fmt.Println(a1)</span><br><span class="line">	<span class="comment">// 通过普通for遍历</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(a1); i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;a1[%v]:%v\n&quot;</span>, i, a1[i])</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 通过for range遍历, i = 索引 , v = 索引对应的值</span></span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> a1 &#123;</span><br><span class="line">		fmt.Println(i, v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221121223327553.png" alt="image-20221121223327553"></p>
<h3 id="切片（Slice）">1.4.3. 切片（Slice）</h3><p>可以把切片理解为，<strong>可变长度的数组</strong>，其实它底层就是使用数组实现的，增加了自动扩容功能。切片 (Slice) 是一个拥有<strong>相同类型</strong>元素的可变长度的序列。</p>
<ul>
<li>len()打印切片的长度,cap()打印切片的容量</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 定义切片 var slice [] type,方法1</span></span><br><span class="line">	<span class="keyword">var</span> s1 []<span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> s2 []<span class="type">string</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v&quot;</span>, s1)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v&quot;</span>, s2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// var name = make([]type,len),make已经分配内存,方法2</span></span><br><span class="line">	<span class="keyword">var</span> s3 = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v&quot;</span>, s3)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// len()打印切片的长度,cap()打印切片的容量</span></span><br><span class="line">	<span class="comment">//s4 := []int&#123;1, 2, 3&#125;</span></span><br><span class="line">	<span class="keyword">var</span> s4 = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(s4))</span><br><span class="line">	fmt.Println(<span class="built_in">cap</span>(s4))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="切片的初始化">1.4.3.1. 切片的初始化</h4><ul>
<li>直接初始化</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 直接初始化</span></span><br><span class="line">	<span class="keyword">var</span> s1 []<span class="type">int</span></span><br><span class="line">	fmt.Println(s1)</span><br></pre></td></tr></table></figure>

<ul>
<li>使用数组初始化</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用数组初始化</span></span><br><span class="line">	<span class="keyword">var</span> a1 = [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">	s2 := a1[:] <span class="comment">// 获取数组的全部元素</span></span><br><span class="line">	fmt.Println(s2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用数组的部分初始化，左闭又开</span></span><br><span class="line">	s3 := a1[<span class="number">2</span>:]  <span class="comment">// 取索引2开始到结束前一个</span></span><br><span class="line">	s4 := a1[:<span class="number">2</span>]  <span class="comment">// 取索引0-1</span></span><br><span class="line">	s5 := a1[<span class="number">1</span>:<span class="number">2</span>] <span class="comment">// 取索引1-1</span></span><br><span class="line">	fmt.Println(s3)</span><br><span class="line">	fmt.Println(s4)</span><br><span class="line">	fmt.Println(s5)</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221122205702713.png" alt="image-20221122205702713"></p>
<h4 id="切片的遍历">1.4.3.2. 切片的遍历</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> s1 = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	<span class="comment">// for range 遍历</span></span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> s1 &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%v,%v\n&quot;</span>, i, v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0,1</span><br><span class="line">1,2</span><br><span class="line">2,3</span><br><span class="line">3,4</span><br></pre></td></tr></table></figure>

<h4 id="切片的添加与删除">1.4.3.3. 切片的添加与删除</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> s1 = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	<span class="comment">// 增加 append(slice, num)</span></span><br><span class="line">	s1 = <span class="built_in">append</span>(s1, <span class="number">100</span>)</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	<span class="comment">// 截取、拼接、覆盖=删除 append(数组的部分切片[,数组的部分切片]...) 覆盖原来的值</span></span><br><span class="line">	s1 = <span class="built_in">append</span>(s1[:<span class="number">2</span>], s1[<span class="number">3</span>:]...) <span class="comment">//[1,2,4,100]</span></span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	<span class="comment">// 数组的拷贝</span></span><br><span class="line">	s2 := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	<span class="comment">// 直接赋值为浅拷贝，指向同一个内存地址，其中一个修改之后另一个也修改</span></span><br><span class="line">	s3 := s2</span><br><span class="line">	<span class="keyword">var</span> s4 = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">4</span>) <span class="comment">// 引用类型必须要make进行初始化</span></span><br><span class="line">	<span class="comment">// copy为深拷贝，重新开辟一块内存空间，互不影响</span></span><br><span class="line">	<span class="built_in">copy</span>(s4, s2)</span><br><span class="line">	s3[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">	fmt.Println(s2)</span><br><span class="line">	fmt.Println(s3)</span><br><span class="line">	fmt.Println(s4)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221122214400958.png" alt="image-20221122214400958"></p>
<h3 id="map">1.4.4. map</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">map_variable = <span class="built_in">make</span>(<span class="keyword">map</span>[key_data_type]value_data_type</span><br><span class="line"></span><br><span class="line">map_variable: <span class="keyword">map</span>变量名称</span><br><span class="line">key_data_type : key的数据类型</span><br><span class="line">value_data_type : 值得数据类型</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 使用make初始化</span></span><br><span class="line">	m1 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">	m1[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;tom&quot;</span></span><br><span class="line">	m1[<span class="string">&quot;age&quot;</span>] = <span class="string">&quot;18&quot;</span></span><br><span class="line">	m1[<span class="string">&quot;mail&quot;</span>] = <span class="string">&quot;123@qq.com&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 直接初始化赋值</span></span><br><span class="line">	m2 := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;</span><br><span class="line">		<span class="string">&quot;name&quot;</span>: <span class="string">&quot;july&quot;</span>,</span><br><span class="line">		<span class="string">&quot;age&quot;</span>:  <span class="string">&quot;18&quot;</span>,</span><br><span class="line">		<span class="string">&quot;mail&quot;</span>: <span class="string">&quot;223@qq.com&quot;</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(m1)</span><br><span class="line">	fmt.Println(m2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 通过key获取value</span></span><br><span class="line">	fmt.Println(m1[<span class="string">&quot;name&quot;</span>])</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 判断map中的key是否存在</span></span><br><span class="line">	v, ok := m1[<span class="string">&quot;name&quot;</span>]</span><br><span class="line">	v1, ok1 := m1[<span class="string">&quot;tom&quot;</span>]</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v,%v\n&quot;</span>, v, ok)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v,%v&quot;</span>, v1, ok1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221122215737309.png" alt="image-20221122215737309"></p>
<h4 id="map的遍历">1.4.4.1. map的遍历</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	m1 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">	m1[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;tom&quot;</span></span><br><span class="line">	m1[<span class="string">&quot;age&quot;</span>] = <span class="string">&quot;18&quot;</span></span><br><span class="line">	m1[<span class="string">&quot;mail&quot;</span>] = <span class="string">&quot;123@qq.com&quot;</span></span><br><span class="line">	<span class="keyword">for</span> key, value := <span class="keyword">range</span> m1 &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%v:%v\n&quot;</span>, key, value)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221122215959858.png" alt="image-20221122215959858"></p>
<h2 id="指针">1.5. 指针</h2><p>Go语言中的函数传参都是值拷贝，当我们想要修改某个变量的时候，我们可以创建一个指向该变量地址的指针变量。传递数据使用指针，而无须拷贝数据。<br>类型指针不能进行偏移和运算。<br>Go语言中的指针操作非常简单，只需要记住两个符号:&amp;(取地址)和*(根据地址取值)。</p>
<h3 id="指针的声明">1.5.1. 指针的声明</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var var_name *var_type</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 指针的声明</span></span><br><span class="line">	<span class="keyword">var</span> p *<span class="type">int</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;p:%v\n&quot;</span>, p) <span class="comment">// nil 空指针</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;p:%T\n&quot;</span>, p)</span><br><span class="line">	<span class="comment">// 指针的赋值</span></span><br><span class="line">	i := <span class="number">100</span></span><br><span class="line">	p = &amp;i</span><br><span class="line">	fmt.Printf(<span class="string">&quot;p:%v\n&quot;</span>, p)  <span class="comment">// 取地址</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;p:%v&quot;</span>, *p) <span class="comment">// 取值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p:&lt;<span class="literal">nil</span>&gt;</span><br><span class="line">p:*<span class="type">int</span></span><br><span class="line">p:<span class="number">0xc00001c100</span></span><br><span class="line">p:<span class="number">100</span></span><br></pre></td></tr></table></figure>

<h3 id="指向数组的指针">1.5.2. 指向数组的指针</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pa [max]*<span class="type">int</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := [...]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">	<span class="keyword">const</span> MAX = <span class="built_in">len</span>(a)</span><br><span class="line">	<span class="keyword">var</span> pa [MAX]*<span class="type">int</span></span><br><span class="line">	fmt.Println(pa)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; MAX; i++ &#123;</span><br><span class="line">		pa[i] = &amp;a[i]</span><br><span class="line">		fmt.Printf(<span class="string">&quot;pa[%d]%v\n&quot;</span>, i, *pa[i])</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(pa)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[&lt;<span class="literal">nil</span>&gt; &lt;<span class="literal">nil</span>&gt; &lt;<span class="literal">nil</span>&gt; &lt;<span class="literal">nil</span>&gt; &lt;<span class="literal">nil</span>&gt;]</span><br><span class="line">pa[<span class="number">0</span>]<span class="number">1</span></span><br><span class="line">pa[<span class="number">1</span>]<span class="number">2</span></span><br><span class="line">pa[<span class="number">2</span>]<span class="number">3</span></span><br><span class="line">pa[<span class="number">3</span>]<span class="number">4</span></span><br><span class="line">pa[<span class="number">4</span>]<span class="number">5</span></span><br><span class="line">[<span class="number">0xc00000e360</span> <span class="number">0xc00000e368</span> <span class="number">0xc00000e370</span> <span class="number">0xc00000e378</span> <span class="number">0xc00000e380</span>]</span><br></pre></td></tr></table></figure>

<h2 id="类型">1.6. 类型</h2><h3 id="类型定义">1.6.1. 类型定义</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> newType <span class="keyword">type</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 类型定义</span></span><br><span class="line">	<span class="keyword">type</span> MyInt <span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> i MyInt = <span class="number">100</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%v&quot;</span>, i, i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">main.MyInt,100</span><br></pre></td></tr></table></figure>

<h3 id="类型别名">1.6.2. 类型别名</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 类型别名</span></span><br><span class="line">	<span class="keyword">type</span> I = <span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> i1 I = <span class="number">120</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%v&quot;</span>, i1, i1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int,120</span><br></pre></td></tr></table></figure>

<h3 id="类型定义和类型别名的区别">1.6.3. 类型定义和类型别名的区别</h3><ul>
<li><p>类型定义相当于定义了一个<strong>全新的类型</strong>与之前的类型不同;但是类型别名并没有定义一个新的类型，而是使用一个别名来替换之前的类型</p>
</li>
<li><p>类型别名只会在<strong>代码</strong>中存在，在<strong>编译完成</strong>之后并不会存在该别名</p>
</li>
<li><p>因为类型别名和原来的类型是一致的，所以原来类型所拥有的方法，类型别名中也可以调用，但是如果是重3新定义的一个类型，那么不可以调用之前的任何方法</p>
</li>
</ul>
<h2 id="结构体（struct）">1.7. 结构体（struct）</h2><h3 id="结构体定义">1.7.1. 结构体定义</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> struct_name <span class="keyword">struct</span> &#123;</span><br><span class="line">	var1_name var1_type</span><br><span class="line">    var2_name var2_type</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="声明结构体变量">1.7.2. 声明结构体变量</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> students <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age  <span class="type">int</span></span><br><span class="line">	sex  <span class="type">bool</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> s1 students</span><br><span class="line">	s1.sex = <span class="literal">false</span></span><br><span class="line">	s1.name = <span class="string">&quot;tom&quot;</span></span><br><span class="line">	s1.age = <span class="number">18</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;s1: %v&quot;</span>, s1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1: &#123;tom 18 false&#125;</span><br></pre></td></tr></table></figure>

<h3 id="匿名结构体">1.7.3. 匿名结构体</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 匿名结构体</span></span><br><span class="line">	<span class="keyword">var</span> person <span class="keyword">struct</span> &#123;</span><br><span class="line">		email <span class="type">string</span></span><br><span class="line">		age   <span class="type">int</span></span><br><span class="line">		name  <span class="type">string</span></span><br><span class="line">	&#125;</span><br><span class="line">	person.email = <span class="string">&quot;123@qq.com&quot;</span></span><br><span class="line">	fmt.Println(person.email)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123@qq.com</span><br></pre></td></tr></table></figure>

<h3 id="结构体的初始化">1.7.4. 结构体的初始化</h3><ol>
<li>通过键值对的方式赋值</li>
<li>使用值的列表初始化</li>
<li>成员部分初始化必须使用方式1通过键值对的方式赋值</li>
</ol>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> person <span class="keyword">struct</span> &#123;</span><br><span class="line">	id, age     <span class="type">int</span></span><br><span class="line">	name, email <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 1.通过键值对的方式赋值</span></span><br><span class="line">	<span class="keyword">var</span> p1 = person&#123;</span><br><span class="line">		id:    <span class="number">001</span>,</span><br><span class="line">		age:   <span class="number">18</span>,</span><br><span class="line">		name:  <span class="string">&quot;kali&quot;</span>,</span><br><span class="line">		email: <span class="string">&quot;123@qq.com&quot;</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;p1:%v\n&quot;</span>, p1)</span><br><span class="line">	<span class="comment">// 2.使用值的列表初始化</span></span><br><span class="line">	p2 := person&#123;</span><br><span class="line">		<span class="number">002</span>,</span><br><span class="line">		<span class="number">18</span>,</span><br><span class="line">		<span class="string">&quot;kate&quot;</span>,</span><br><span class="line">		<span class="string">&quot;123124@qq.com&quot;</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;p2:%v&quot;</span>, p2)</span><br><span class="line">	<span class="comment">// 3.成员部分初始化必须使用方式1通过键值对的方式赋值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="结构体指针">1.7.5. 结构体指针</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">type</span> person <span class="keyword">struct</span> &#123;</span><br><span class="line">		id   <span class="type">int</span></span><br><span class="line">		name <span class="type">string</span></span><br><span class="line">		age  <span class="type">int</span></span><br><span class="line">	&#125;</span><br><span class="line">	tom := person&#123;</span><br><span class="line">		<span class="number">001</span>,</span><br><span class="line">		<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">		<span class="number">18</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 定义一个结构体指针</span></span><br><span class="line">	<span class="keyword">var</span> p_person *person</span><br><span class="line"></span><br><span class="line">	p_person = &amp;tom</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%p\n&quot;</span>, p_person)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, *p_person)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 也可以用new创建一个结构体指针</span></span><br><span class="line">	<span class="keyword">var</span> kate = <span class="built_in">new</span>(person)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%p\n&quot;</span>, kate)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0xc0000523c0</span><br><span class="line">&#123;1 张三 18&#125;</span><br><span class="line">0xc000052420</span><br></pre></td></tr></table></figure>

<h2 id="方法">1.8. 方法</h2><p>go语言没有面向对象的特性，也没有类对象的概念。但是，可以使用结构体来模拟这些特性，我们都知道面向对象里面有类方法等概念。我们也可以声明一些方法，属于某个结构体。</p>
<h3 id="语法">1.8.1. 语法</h3><p>Go中的方法，是一种特殊的函数，定义于struct之上(与struct关联、绑定)，被称为struct的接受者(receiver)。通俗的讲，方法就是有接收者的函数。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> struct_name <span class="keyword">struct</span>&#123;</span><br><span class="line">	var1_name var1_type</span><br><span class="line">    var2_name var2_type</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 该方法属于struct_name这个结构体</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(别名 struct_name)</span></span> func_name (参数) 返回值 &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age  <span class="type">int</span></span><br><span class="line">	sex  <span class="type">bool</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> myfunc() &#123;</span><br><span class="line">	p.age = <span class="number">10</span></span><br><span class="line">	p.name = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">	p.sex = <span class="literal">true</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;p.age: %v\n&quot;</span>, p.age)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;p.name: %v\n&quot;</span>, p.name)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;p.sex: %v\n&quot;</span>, p.sex)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	Person.myfunc(Person&#123;&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="接口">1.9. 接口</h2><p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221126221151759.png" alt="image-20221126221151759"></p>
<h2 id="并发">1.10. 并发</h2><h3 id="携程">1.10.1. 携程</h3><h4 id="实例1">1.10.1.1. 实例1</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">say</span><span class="params">(msg <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;msg: %v\n&quot;</span>, msg)</span><br><span class="line">		time.Sleep(time.Microsecond * <span class="number">100</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 通过go关键字创建携程，通过结果可以观察出两个线程是同时执行的</span></span><br><span class="line">	<span class="keyword">go</span> say(<span class="string">&quot;我在说话&quot;</span>)</span><br><span class="line">	say(<span class="string">&quot;我没说话&quot;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">msg: 我没说话</span><br><span class="line">msg: 我在说话</span><br><span class="line">msg: 我没说话</span><br><span class="line">msg: 我在说话</span><br><span class="line">msg: 我在说话</span><br><span class="line">msg: 我没说话</span><br><span class="line">msg: 我没说话</span><br><span class="line">msg: 我在说话</span><br><span class="line">msg: 我在说话</span><br><span class="line">msg: 我没说话</span><br></pre></td></tr></table></figure>

<h4 id="实例2">1.10.1.2. 实例2</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">say</span><span class="params">(msg <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;msg: %v\n&quot;</span>, msg)</span><br><span class="line">		time.Sleep(time.Microsecond * <span class="number">100</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 主协程退出后，程序结束</span></span><br><span class="line">	<span class="keyword">go</span> say(<span class="string">&quot;golang&quot;</span>) <span class="comment">// 协程1</span></span><br><span class="line">	<span class="keyword">go</span> say(<span class="string">&quot;python&quot;</span>) <span class="comment">// 协程2</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;end...&quot;</span>) <span class="comment">// 主协程3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果，不唯一</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">end...</span><br></pre></td></tr></table></figure>

<h3 id="channel">1.10.2. channel</h3><p>声明，通过make和chan声明,使用完必须用close进行关闭</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var values = make(chan int)</span><br><span class="line">defer close(values)</span><br></pre></td></tr></table></figure>

<p>个人将channel的功能理解为获取函数中的变量值</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建int类型通道，只能传入int类型值</span></span><br><span class="line"><span class="keyword">var</span> values = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">send</span><span class="params">()</span></span> &#123;</span><br><span class="line">	rand.Seed(time.Now().Unix()) <span class="comment">// 指定一个随机数种子，确保每次生成的随机数不同</span></span><br><span class="line">	value := rand.Intn(<span class="number">10</span>)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;send: %v\n&quot;</span>, value)</span><br><span class="line">	values &lt;- value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		unbuffered := make(chan int)   // 整型无缓冲通道，默认值为0</span></span><br><span class="line"><span class="comment">		buffered := make(chan int, 10) // 整型有缓冲通道</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		go1 := make(chan string, 5) // 创建字符串缓冲通道</span></span><br><span class="line"><span class="comment">		go1 &lt;- &quot;hello&quot;              // 通过通道发送字符串</span></span><br><span class="line"><span class="comment">		data := &lt;-go1 // 从通道接受字符串</span></span><br><span class="line"><span class="comment">		&lt;- 运算符附加到通道变量（go1）的左侧，以接受来自通道的值</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="keyword">defer</span> <span class="built_in">close</span>(values) <span class="comment">// 关闭通道，必须！</span></span><br><span class="line">	<span class="keyword">go</span> send()</span><br><span class="line">	fmt.Println(<span class="string">&quot;wait...&quot;</span>)</span><br><span class="line">	value := &lt;-values</span><br><span class="line">	fmt.Printf(<span class="string">&quot;recv: %v\n&quot;</span>, value)</span><br><span class="line">	fmt.Println(<span class="string">&quot;end...&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="waitgroup">1.10.3. waitgroup</h3><p>前</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">showMsg</span><span class="params">(i <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;i: %v\n&quot;</span>, i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> showMsg(i) <span class="comment">// 启动10个协程来执行</span></span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br><span class="line">	<span class="comment">// 因为主协程运行完之后就会关闭程序，其他线程没有运行完会直接终止</span></span><br><span class="line">	<span class="comment">// 所以如果有需要让其他协程执行完需要加waitgroup进行等待</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果，不唯一</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">end</span><br><span class="line">i: 7</span><br><span class="line">i: 1</span><br><span class="line">i: 5</span><br><span class="line">i: 4</span><br><span class="line">i: 0</span><br><span class="line">i: 3</span><br><span class="line">i: 6</span><br><span class="line">i: 9</span><br><span class="line">i: 8</span><br><span class="line">i: 2</span><br></pre></td></tr></table></figure>

<p>后</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">showMsg</span><span class="params">(i <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="comment">// defer wg.Add(-1) == defer wg.Done()</span></span><br><span class="line">	<span class="keyword">defer</span> wg.Add(<span class="number">-1</span>)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;i: %v\n&quot;</span>, i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> showMsg(i) <span class="comment">// 启动10个协程来执行</span></span><br><span class="line">		wg.Add(<span class="number">1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br><span class="line">	<span class="comment">// 因为主协程运行完之后就会关闭程序，其他线程没有运行完会直接终止</span></span><br><span class="line">	<span class="comment">// 所以如果有需要让其他协程执行完需要加waitgroup进行等待</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果，不唯一</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">i: 0</span><br><span class="line">i: 9</span><br><span class="line">i: 4</span><br><span class="line">i: 1</span><br><span class="line">i: 5</span><br><span class="line">i: 6</span><br><span class="line">i: 7</span><br><span class="line">i: 8</span><br><span class="line">i: 2</span><br><span class="line">i: 3</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h3 id="runtime">1.10.4. runtime</h3><ul>
<li>Gosched：让当前线程让出 cpu 以让其它线程运行,它不会挂起当前线程，因此当前线程未来会继续执行</li>
<li>NumCPU：返回当前系统的 CPU 核数量</li>
<li>GOMAXPROCS：设置最大的可同时使用的 CPU 核数</li>
<li>Goexit：退出当前 goroutine(但是defer语句会照常执行)</li>
<li>NumGoroutine：返回正在执行和排队的任务总数</li>
<li>GOOS：目标操作系统</li>
</ul>
<h4 id="runtime-Gosched">1.10.4.1. runtime.Gosched()</h4><p>前</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">showMsg</span><span class="params">(msg <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;msg: %v\n&quot;</span>, msg)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">go</span> showMsg(<span class="string">&quot;golang&quot;</span>) <span class="comment">// 主线程执行结束后，直接退出，有概率不执行该携程内容</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;msg:%v\n&quot;</span>, <span class="string">&quot; java&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">msg: java</span><br><span class="line">msg: java</span><br><span class="line">msg: golang</span><br></pre></td></tr></table></figure>

<p>后</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;runtime&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">showMsg</span><span class="params">(msg <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;msg: %v\n&quot;</span>, msg)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">go</span> showMsg(<span class="string">&quot;golang&quot;</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">		runtime.Gosched() <span class="comment">// 让当前线程让出 cpu 以让其它线程运行,它不会挂起当前线程，因此当前线程未来会继续执行</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;msg:%v\n&quot;</span>, <span class="string">&quot; java&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果，不唯一</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">msg: golang</span><br><span class="line">msg: golang</span><br><span class="line">msg: java</span><br><span class="line">msg: java</span><br></pre></td></tr></table></figure>

<h4 id="runtime-Goexit">1.10.4.2. runtime.Goexit()</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;runtime&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		fmt.Println(i)</span><br><span class="line">		<span class="keyword">if</span> i == <span class="number">5</span> &#123;</span><br><span class="line">			runtime.Goexit()</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">go</span> show()</span><br><span class="line">	runtime.Gosched()</span><br><span class="line">	fmt.Println(<span class="string">&quot;end..&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">end..</span><br></pre></td></tr></table></figure>

<h3 id="mutex">1.10.5. mutex</h3><h4 id="实例1-1">1.10.5.1. 实例1</h4><p>前</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 多个携程在操作统一资源的时候，会有概率导致数据异常</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num <span class="type">int</span> = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">a</span><span class="params">()</span></span> &#123;</span><br><span class="line">	num += <span class="number">1</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;num++:%v\n&quot;</span>, num)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">b</span><span class="params">()</span></span> &#123;</span><br><span class="line">	num -= <span class="number">1</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;num--:%v\n&quot;</span>, num)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">50</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> a()</span><br><span class="line">		<span class="keyword">go</span> b()</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;end &gt;&gt; num: %v\n&quot;</span>, num)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221128110422810.png" alt="image-20221128110422810"></p>
<p>后</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多个携程在操作统一资源的时候，会有概率导致数据异常</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num <span class="type">int</span> = <span class="number">100</span></span><br><span class="line"><span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line"><span class="keyword">var</span> lock sync.Mutex <span class="comment">// 互斥锁</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">()</span></span> &#123;</span><br><span class="line">	lock.Lock()</span><br><span class="line">	<span class="keyword">defer</span> wg.Done()</span><br><span class="line">	num += <span class="number">1</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;add: %v\n&quot;</span>, num)</span><br><span class="line">	lock.Unlock()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sub</span><span class="params">()</span></span> &#123;</span><br><span class="line">	lock.Lock()</span><br><span class="line">	<span class="keyword">defer</span> wg.Done()</span><br><span class="line">	num -= <span class="number">1</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;sub: %v\n&quot;</span>, num)</span><br><span class="line">	lock.Unlock()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">50</span>; i++ &#123;</span><br><span class="line">		wg.Add(<span class="number">1</span>)</span><br><span class="line">		<span class="keyword">go</span> add()</span><br><span class="line">		wg.Add(<span class="number">1</span>)</span><br><span class="line">		<span class="keyword">go</span> sub()</span><br><span class="line">	&#125;</span><br><span class="line">	wg.Wait()</span><br><span class="line">	fmt.Printf(<span class="string">&quot;num: %v\n&quot;</span>, num)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出结果:</p>
<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221203155301238.png" alt="image-20221203155301238"></p>
<h3 id="channel的遍历">1.10.6. channel的遍历</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 如果写入的数量&gt;读的数量，不会产生异常</span></span><br><span class="line">	<span class="comment">/* go func() &#123;</span></span><br><span class="line"><span class="comment">		for i := 0; i &lt; 10; i++ &#123;</span></span><br><span class="line"><span class="comment">			c &lt;- i</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">	&#125;() */</span></span><br><span class="line">	<span class="comment">// 若读的数量&gt;写的数量,会报错deadlock死锁</span></span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">			c &lt;- i</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//通过关闭通道解决,后续没有读取的就是默认值</span></span><br><span class="line">		<span class="built_in">close</span>(c)</span><br><span class="line">	&#125;()</span><br><span class="line">	<span class="comment">/* r := &lt;-c</span></span><br><span class="line"><span class="comment">	fmt.Printf(&quot;r: %v\n&quot;, r)</span></span><br><span class="line"><span class="comment">	r = &lt;-c</span></span><br><span class="line"><span class="comment">	fmt.Printf(&quot;r: %v\n&quot;, r)</span></span><br><span class="line"><span class="comment">	r = &lt;-c</span></span><br><span class="line"><span class="comment">	fmt.Printf(&quot;r: %v\n&quot;, r) //第三次读取时:fatal error: all goroutines are asleep - deadlock! */</span></span><br><span class="line">	<span class="comment">// 通过for循环遍历channel</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">		r := &lt;-c</span><br><span class="line">		fmt.Printf(<span class="string">&quot;r: %v\n&quot;</span>, r)</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">// 通过for range遍历</span></span><br><span class="line">    <span class="keyword">for</span> v := <span class="keyword">range</span> c &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;v: %v\n&quot;</span>, v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意: 再遍历channel之前一定要把channel先关闭了，不然程度不会退出</span></span><br></pre></td></tr></table></figure>

<h3 id="select">1.10.7. select</h3><p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221204151826443.png" alt="image-20221204151826443"></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> chanInt = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"><span class="keyword">var</span> chanStr = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		chanInt &lt;- <span class="number">100</span></span><br><span class="line">		chanStr &lt;- <span class="string">&quot;hello&quot;</span></span><br><span class="line">		<span class="built_in">close</span>(chanInt)</span><br><span class="line">		<span class="built_in">close</span>(chanStr)</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		<span class="keyword">select</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> r := &lt;-chanInt:</span><br><span class="line">			fmt.Printf(<span class="string">&quot;r: %v\n&quot;</span>, r)</span><br><span class="line">		<span class="keyword">case</span> r := &lt;-chanStr:</span><br><span class="line">			fmt.Printf(<span class="string">&quot;r: %v\n&quot;</span>, r)</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			fmt.Printf(<span class="string">&quot;\&quot;end\&quot;: %v\n&quot;</span>, <span class="string">&quot;end&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		time.Sleep(time.Second)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221204152820505.png" alt="image-20221204152820505"></p>
<h3 id="timer">1.10.8. timer</h3><p>Timer顾名思义，就是定时器的意思，可以实现一些定时操作，内部也是通过chanmel来实现的.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/* timer := time.NewTimer(time.Second * 2)</span></span><br><span class="line"><span class="comment">	fmt.Printf(&quot;time.Now(): %v\n&quot;, time.Now()) // time.Now()打印当前时间 */</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/* t1 := &lt;-timer.C                         // timer.C为channel, 获取阻塞后的时间</span></span><br><span class="line"><span class="comment">	fmt.Printf(&quot;t1: %v\n&quot;, t1) */</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/* &lt;-timer.C							  // 与上面方法结果相同</span></span><br><span class="line"><span class="comment">	fmt.Printf(&quot;time.Now(): %v\n&quot;, time.Now()) */</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/* fmt.Printf(&quot;time.Now(): %v\n&quot;, time.Now())</span></span><br><span class="line"><span class="comment">	timer := time.NewTimer(time.Second * 10)</span></span><br><span class="line"><span class="comment">	timer.Stop() // timer.stop()停止计时器</span></span><br><span class="line"><span class="comment">	fmt.Printf(&quot;time.Now(): %v\n&quot;, time.Now()) */</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">&quot;time.Now(): %v\n&quot;</span>, time.Now())</span><br><span class="line">	timer := time.NewTimer(time.Second * <span class="number">10</span>)</span><br><span class="line">	timer.Reset(time.Second * <span class="number">2</span>) <span class="comment">// timer.Reset()重新设置计时器</span></span><br><span class="line">	&lt;-timer.C</span><br><span class="line">	fmt.Printf(<span class="string">&quot;time.Now(): %v\n&quot;</span>, time.Now())</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ticker">1.10.9. ticker</h3><p>timer只执行一次,ticker可以周期执行</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	ticker := time.NewTicker(time.Second)</span><br><span class="line">	counter := <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> _ = <span class="keyword">range</span> ticker.C &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;ticker...&quot;</span>)</span><br><span class="line">		counter++</span><br><span class="line">		<span class="keyword">if</span> counter &gt; <span class="number">5</span> &#123;</span><br><span class="line">			ticker.Stop()</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;end...&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[Running] <span class="keyword">go</span> run <span class="string">&quot;d:\MyCode\Go\src\并发\ticker.go&quot;</span></span><br><span class="line">ticker...</span><br><span class="line">ticker...</span><br><span class="line">ticker...</span><br><span class="line">ticker...</span><br><span class="line">ticker...</span><br><span class="line">end...</span><br><span class="line"></span><br><span class="line">[Done] exited with code=<span class="number">0</span> in <span class="number">5.633</span> seconds</span><br></pre></td></tr></table></figure>

<h3 id="atomic原子变量">1.10.10. atomic原子变量</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sync/atomic&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i <span class="type">int32</span> = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">()</span></span> &#123;</span><br><span class="line">	atomic.AddInt32(&amp;i, <span class="number">1</span>) <span class="comment">// 等同于mutex互斥锁,会匹配旧的值与将要替换的新值，如果匹配失败则不会替换，保证线程安全</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sub</span><span class="params">()</span></span> &#123;</span><br><span class="line">	atomic.AddInt32(&amp;i, <span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;原子变量测试&quot;</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> add()</span><br><span class="line">		<span class="keyword">go</span> sub()</span><br><span class="line">	&#125;</span><br><span class="line">	time.Sleep(time.Second * <span class="number">2</span>)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;i: %v\n&quot;</span>, i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="原子操作详解">1.10.11. 原子操作详解</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sync/atomic&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test_add_sub</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i <span class="type">int32</span> = <span class="number">100</span></span><br><span class="line">	atomic.AddInt32(&amp;i, <span class="number">1</span>)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;i: %v\n&quot;</span>, i)</span><br><span class="line">	atomic.AddInt32(&amp;i, <span class="number">-1</span>)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;i: %v\n&quot;</span>, i)</span><br><span class="line">	fmt.Println(<span class="string">&quot;==========================================&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test_load_read</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i <span class="type">int32</span> = <span class="number">100</span></span><br><span class="line">	atomic.LoadInt32(&amp;i) <span class="comment">// 载入read</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;i: %v\n&quot;</span>, i)</span><br><span class="line">	atomic.StoreInt32(&amp;i, <span class="number">200</span>) <span class="comment">// 写入write</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;i: %v\n&quot;</span>, i)</span><br><span class="line">	fmt.Println(<span class="string">&quot;==========================================&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test_cas</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i <span class="type">int32</span> = <span class="number">100</span></span><br><span class="line">	b := atomic.CompareAndSwapInt32(&amp;i, <span class="number">100</span>, <span class="number">200</span>) <span class="comment">// 判断数据是否交换成功，返回的是布尔类型的值</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;b: %v\n&quot;</span>, b)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;i: %v\n&quot;</span>, i)</span><br><span class="line">	fmt.Println(<span class="string">&quot;==========================================&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	test_add_sub()   <span class="comment">// 增减</span></span><br><span class="line">	test_load_read() <span class="comment">// 读写</span></span><br><span class="line">	test_cas()       <span class="comment">// 数据交换</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="OS">1.11. OS</h2><h3 id="文件目录操作">1.11.1. 文件目录操作</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建文件</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createFile</span><span class="params">()</span></span> &#123;</span><br><span class="line">	f, err := os.Create(<span class="string">&quot;a.txt&quot;</span>) <span class="comment">// f 返回的是一个文件对象，可以通过.调用其中的方法</span></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;err: %v\n&quot;</span>, err)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;f.Name(): %v\n&quot;</span>, f.Name()) <span class="comment">// 获取创建的文件名</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建目录</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createDir</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 创建单个目录</span></span><br><span class="line">	err := os.Mkdir(<span class="string">&quot;test&quot;</span>, os.ModePerm) <span class="comment">// &quot;test&quot;代表创建的文件夹名称，os.ModePerm代表文件权限为最高</span></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;err: %v\n&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 创建多级目录</span></span><br><span class="line">	err2 := os.MkdirAll(<span class="string">&quot;test1/a/b&quot;</span>, os.ModePerm)</span><br><span class="line">	<span class="keyword">if</span> err2 != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;err2: %v\n&quot;</span>, err2)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除文件或文件夹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeFile</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 删除文件</span></span><br><span class="line">	err := os.Remove(<span class="string">&quot;a.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;err: %v\n&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 删除文件夹及其目录下的文件</span></span><br><span class="line">	err2 := os.RemoveAll(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err2 != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;err2: %v\n&quot;</span>, err2)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获得工作目录</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getPwd</span><span class="params">()</span></span> &#123;</span><br><span class="line">	dir, err := os.Getwd() <span class="comment">// 获取当前工作目录</span></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;err: %v\n&quot;</span>, err)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;dir: %v\n&quot;</span>, dir)</span><br><span class="line">	&#125;</span><br><span class="line">	s := os.TempDir() <span class="comment">// 获取临时目录</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;s: %v\n&quot;</span>, s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重命名文件</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rename</span><span class="params">()</span></span> &#123;</span><br><span class="line">	err := os.Rename(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;test1.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;err: %v\n&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读文件</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">readFile</span><span class="params">()</span></span> &#123;</span><br><span class="line">	b, err := os.ReadFile(<span class="string">&quot;test1.txt&quot;</span>) <span class="comment">// b为内容的字节数组实际是切片 格式如-&gt;b: [104 101 108 108 111 32 119 111 114 108 100]</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;err: %v\n&quot;</span>, err)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;b: %v\n&quot;</span>, <span class="type">string</span>(b[:])) <span class="comment">// 文件读取的输出形式为byte切片，需要转为string类型读取</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写文件</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">writeFile</span><span class="params">()</span></span> &#123;</span><br><span class="line">	err := os.WriteFile(<span class="string">&quot;test1.txt&quot;</span>, []<span class="type">byte</span>(<span class="string">&quot;not good&quot;</span>), os.ModePerm) <span class="comment">// 已二进制形式覆盖写入</span></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;err: %v\n&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// createFile() // 重复创建文件会进行文件的覆盖</span></span><br><span class="line">	<span class="comment">// createDir()</span></span><br><span class="line">	<span class="comment">// removeFile()</span></span><br><span class="line">	<span class="comment">// getPwd()</span></span><br><span class="line">	<span class="comment">// rename()</span></span><br><span class="line">	<span class="comment">// readFile()</span></span><br><span class="line">	writeFile()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="跨包调用文件">1.12. 跨包调用文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">go mod init sa(可替换其他包名) --&gt; go.mod 会生成一个 moudle sa, sa为其他目录调用的主模块</span><br><span class="line">sa/Plugins(文件的package_name)</span><br><span class="line"></span><br><span class="line">公开调用的函数名，必须是开头字母大写</span><br></pre></td></tr></table></figure>

<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20230118142144960.png" alt="image-20230118142144960"></p>
<p><img src="https://qwtd-image.oss-cn-hangzhou.aliyuncs.com/img/image-20230118142124626.png" alt="image-20230118142124626"></p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/pages/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/MS16-075.html" rel="prev" title="权限提升">
      <i class="fa fa-chevron-left"></i> 权限提升
    </a></div>
      <div class="post-nav-item">
    <a href="/pages/MyTools/InfoGrather.html" rel="next" title="InfoGrather">
      InfoGrather <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Golang"><span class="nav-text">1. Golang</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="nav-text">1.1. 基础语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E9%87%8A"><span class="nav-text">1.1.1. 注释</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-text">1.1.2. 变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="nav-text">1.1.2.1. 变量的声明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E8%B5%8B%E5%80%BC"><span class="nav-text">1.1.2.2. 变量的赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%93%E5%8D%B0%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80"><span class="nav-text">1.1.2.3. 打印内存地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E4%BA%A4%E6%8D%A2"><span class="nav-text">1.1.2.4. 变量交换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8C%BF%E5%90%8D%E5%8F%98%E9%87%8F"><span class="nav-text">1.1.2.5. 匿名变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">1.1.2.6. 变量的作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E9%87%8F"><span class="nav-text">1.1.2.7. 常量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">1.1.3. 基本数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%83%E5%B0%94%E5%9E%8B"><span class="nav-text">1.1.3.1. 布尔型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B"><span class="nav-text">1.1.3.2. 数字类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="nav-text">1.1.3.3. 字符串类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-text">1.1.3.4. 数据类型转换</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">1.1.4. 运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">1.1.4.1. 算术运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">1.1.4.2. 关系运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">1.1.4.3. 逻辑运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">1.1.4.4. 位运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">1.1.4.5. 赋值运算符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-text">1.1.5. 键盘输入输出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="nav-text">1.1.6. 占位符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-text">1.2. 流程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#if"><span class="nav-text">1.2.1. if</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#swith"><span class="nav-text">1.2.2. swith</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for"><span class="nav-text">1.2.3. for</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#String"><span class="nav-text">1.2.4. String</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%EF%BC%88func%EF%BC%89"><span class="nav-text">1.3. 函数（func）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%A3%B0%E6%98%8E%E5%92%8C%E8%B0%83%E7%94%A8"><span class="nav-text">1.3.1. 函数的声明和调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BD%A2%E5%BC%8F%E5%8F%82%E6%95%B0%E5%92%8C%E5%AE%9E%E9%99%85%E5%8F%82%E6%95%B0"><span class="nav-text">1.3.2. 形式参数和实际参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="nav-text">1.3.3. 可变参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="nav-text">1.3.4. 参数传递</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%80%BC%E4%BC%A0%E9%80%92"><span class="nav-text">1.3.4.1. 值传递</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92"><span class="nav-text">1.3.4.2. 引用传递</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E4%B8%AD%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">1.3.5. 函数中变量的作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="nav-text">1.3.6. 递归函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#defer"><span class="nav-text">1.3.7. defer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#init%E5%87%BD%E6%95%B0"><span class="nav-text">1.3.8. init函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%A9%E5%B1%95"><span class="nav-text">1.3.9. 扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">1.3.9.1. 函数的数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="nav-text">1.3.9.2. 匿名函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="nav-text">1.3.9.3. 回调函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AD%E5%8C%85"><span class="nav-text">1.3.9.4. 闭包</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-text">1.4. 数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E5%A3%B0%E6%98%8E%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">1.4.1. 数组的声明与初始化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="nav-text">1.4.2. 访问数组元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%87%E7%89%87%EF%BC%88Slice%EF%BC%89"><span class="nav-text">1.4.3. 切片（Slice）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">1.4.3.1. 切片的初始化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-text">1.4.3.2. 切片的遍历</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E6%B7%BB%E5%8A%A0%E4%B8%8E%E5%88%A0%E9%99%A4"><span class="nav-text">1.4.3.3. 切片的添加与删除</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map"><span class="nav-text">1.4.4. map</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#map%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-text">1.4.4.1. map的遍历</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E9%92%88"><span class="nav-text">1.5. 指针</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E9%92%88%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="nav-text">1.5.1. 指针的声明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E5%90%91%E6%95%B0%E7%BB%84%E7%9A%84%E6%8C%87%E9%92%88"><span class="nav-text">1.5.2. 指向数组的指针</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B"><span class="nav-text">1.6. 类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><span class="nav-text">1.6.1. 类型定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"><span class="nav-text">1.6.2. 类型别名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89%E5%92%8C%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">1.6.3. 类型定义和类型别名的区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%EF%BC%88struct%EF%BC%89"><span class="nav-text">1.7. 结构体（struct）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9A%E4%B9%89"><span class="nav-text">1.7.1. 结构体定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F"><span class="nav-text">1.7.2. 声明结构体变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%BF%E5%90%8D%E7%BB%93%E6%9E%84%E4%BD%93"><span class="nav-text">1.7.3. 匿名结构体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">1.7.4. 结构体的初始化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88"><span class="nav-text">1.7.5. 结构体指针</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B9%E6%B3%95"><span class="nav-text">1.8. 方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95"><span class="nav-text">1.8.1. 语法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3"><span class="nav-text">1.9. 接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B9%B6%E5%8F%91"><span class="nav-text">1.10. 并发</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%90%BA%E7%A8%8B"><span class="nav-text">1.10.1. 携程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B1"><span class="nav-text">1.10.1.1. 实例1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B2"><span class="nav-text">1.10.1.2. 实例2</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#channel"><span class="nav-text">1.10.2. channel</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#waitgroup"><span class="nav-text">1.10.3. waitgroup</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#runtime"><span class="nav-text">1.10.4. runtime</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#runtime-Gosched"><span class="nav-text">1.10.4.1. runtime.Gosched()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#runtime-Goexit"><span class="nav-text">1.10.4.2. runtime.Goexit()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mutex"><span class="nav-text">1.10.5. mutex</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B1-1"><span class="nav-text">1.10.5.1. 实例1</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#channel%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-text">1.10.6. channel的遍历</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#select"><span class="nav-text">1.10.7. select</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#timer"><span class="nav-text">1.10.8. timer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ticker"><span class="nav-text">1.10.9. ticker</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#atomic%E5%8E%9F%E5%AD%90%E5%8F%98%E9%87%8F"><span class="nav-text">1.10.10. atomic原子变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C%E8%AF%A6%E8%A7%A3"><span class="nav-text">1.10.11. 原子操作详解</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OS"><span class="nav-text">1.11. OS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C"><span class="nav-text">1.11.1. 文件目录操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%A8%E5%8C%85%E8%B0%83%E7%94%A8%E6%96%87%E4%BB%B6"><span class="nav-text">1.12. 跨包调用文件</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="气温太低"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">气温太低</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">46</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">气温太低</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '10a13e21c051c2fd1206',
      clientSecret: '878720df382c17c619240f2d52c2afd6d39c1512',
      repo        : 'qiwentaidi.github.io',
      owner       : 'qiwentaidi',
      admin       : ['qiwentaidi'],
      id          : '055b6aea72ef3355286ec6e14e742a97',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

    </div>
</body>
</html>
